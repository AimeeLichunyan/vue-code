{"version":3,"file":"vue.js","sources":["../../src/utils.js","../../src/global-api/index.js","../../src/compiler/generate.js","../../src/compiler/parse.js","../../src/compiler/index.js","../../src/lifecycle.js","../../src/observer/array.js","../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/vdom/index.js","../../src/index.js"],"sourcesContent":["export function proxy(vm,data,key) {\n    Object.defineProperty(vm,key,{\n      get() {\n        return vm[data][key];\n      },\n      set(newValue) {\n        vm[data][key] = newValue\n      }\n    })\n  }\n  export function defineProperty(target,key,value) {\n    Object.defineProperty(target,key,{\n        enumerable:false, // 不能被，枚举，不能被循环出来\n        configurable:false,\n        value: value\n      })\n  }\n  export const LIFECYCLE_HOOKS = [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'updated',\n    'beforeDestroy',\n    'destroyed'\n  ]\n  const starts = [];\n  starts.data = function(parentVal,childVal) {\n    console.log(parentVal,childVal)\n  }\n  starts.computed = function() {\n\n  }\n  starts.watch = function() {\n\n  }\n  function mergeHook(parentVal,childVal) {\n    if(childVal) {\n      if(parentVal) {\n        return parentVal.concat(childVal) //父子进行拼接\n      }else {\n        return [childVal] // 将儿子转化成一个数组\n      }\n    }else {\n      return parentVal // 不合并采用父级\n    }\n  }\n  LIFECYCLE_HOOKS.forEach(hook => {\n    starts[hook] = mergeHook\n  })\n  export function mergeOptions(parent,child) {\n    const options = {}\n    // 遍历父亲，可能父亲有，儿子没有；父亲和儿子都有的在这里处理\n    for (let key in parent) {\n      console.log('1',key)\n      mergeField(key)\n    }\n    // 遍历儿子，儿子有父亲没有\n    for(let key in child) {\n      console.log('2',key)\n      mergeField(key)\n    }\n    function mergeField(key) {\n      // console.log(key)\n      if(starts[key]) {\n        options[key]=starts[key](parent[key],child[key]) // 主要一下\n\n      }else {\n        options[key] = child[key]\n      }\n    }\n    return options;\n  }","import { mergeOptions } from \"../utils\";\n\nexport function initGlobalApi(Vue) {\n    Vue.options = {};\n    Vue.mixin = function(mixin) {\n        // console.log(mixin)\n        this.options = mergeOptions(this.options,mixin)\n        console.log(this.options) // this.options = {created:[a,b,c]}\n    }\n}\n// 合并对象，只考虑生命周期，不考虑watch，computed\n// function mergeOptions() {\n\n// }","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\n// dom结构转换成js语法\nfunction genProps(attrs) {\n    let str = '';\n    for(let i = 0; i < attrs.length; i++) {\n        let attr = attrs[i];\n        if(attr.name === 'style') {\n            let obj = {};\n            attr.value.split(';').forEach(item => {\n                let [key,value] = item.split(':');\n                obj[key] = value\n            })\n            attr.value = obj\n        }\n        str += `${attr.name} : ${JSON.stringify(attr.value)},`\n    }\n    return `{${str.slice(0,-1)}}`\n\n}\nfunction gen(node) {\n    if(node.type == 1) {\n        return generate(node) // 生成元素节点的字符串\n    } else {\n        let text = node.text\n        // 如果是普通文本，不带{{}}\n        if(!defaultTagRE.test(text)) {\n        return `_v(${JSON.stringify(text)})`\n\n        }\n        let tokens = [];\n        let lastIndex = defaultTagRE.lastIndex = 0\n        let match,index;\n        while(match = defaultTagRE.exec(text)) {\n            index = match.index; // 保存匹配到的索引\n            if(index > lastIndex) {\n                tokens.push(JSON.stringify(text.slice(lastIndex,index)))\n            }\n            tokens.push(`_s(${match[1].trim()})`);\n            lastIndex = index + match[0].length\n        }\n        if(lastIndex < text.length) {\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\n        }\n        return `_v(${tokens.join('+')})`\n    }\n}\nfunction getChildren(el) {\n    const children = el.children;\n    if(children) { // 将所有转化后的儿子，用逗号拼接\n        return children.map(child => gen(child)).join(',')\n    }\n}\nexport function generate(el) {\n    let children = getChildren(el)\n    let code= `_c('${el.tag}',${el.attrs.length?`${genProps(el.attrs)}`: 'undefined'}${children?`,${children}`:''})`\n\n    return code\n}   ","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名，比如<aa-aa></aa-aa>\n// ?匹配不捕获 my:xx \nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\n\n\nexport function parseHTML(html) {\n\n    function creatAstElement(tagName,attrs) {\n        return {\n            tag: tagName,\n            children: [],\n            attrs,\n            type: 1, //类型，本文还是标签\n            parent: null,// 父级元素\n        }\n    }\n    let root;\n    let currentParent;\n    let stack = []\n    // 校验标签是否合法\n    function start(tagName,attrs) {\n        let element = creatAstElement(tagName,attrs)\n        if(!root) {\n            root = element\n        }\n        currentParent = element\n        stack.push(element)\n    }\n    function end(tagName) { // 在结尾标签处，创建父子关系\n        let element = stack.pop(); //取出栈中的最后一个元素\n        currentParent = stack[stack.length - 1];\n        if(currentParent) { // 在闭合时，知道这个标签的父级是哪个\n            element.parent = currentParent\n            currentParent.children.push(element)\n        }\n    }\n    function chars(text) {\n        text = text.replace(/\\s/g,\"\");\n        if(text) {\n            currentParent.children.push({\n                type:3,\n                text\n            })\n        }\n    }\n\n\n\n    while(html) { //只要html不为空，则一直解析\n        let textEnd = html.indexOf('<') // indexOf如果没有返回-1，如果有返回元素的位置\n        if(textEnd == 0) {\n            const startTagMatch =  parseStartTag(); //开始标签匹配的结果\n            if(startTagMatch) {\n                start(startTagMatch.tagName,startTagMatch.attrs)\n                continue\n            }\n            const endTagMatch =  html.match(endTag)\n            if(endTagMatch) {\n                advance(endTagMatch[0].length);\n                end(endTagMatch[1]) // 将结束标签传入\n                continue\n            }\n        }\n        let text;\n        if(textEnd > 0) {// 如果是文本\n            text = html.substring(0,textEnd);\n        }\n        if(text) {\n            advance(text.length)\n            chars(text);\n        }\n        // break\n    }\n    function advance(n) { // 将字符串进行截取操作，再更新html内容\n        html = html.substring(n)\n    }\n    function parseStartTag() {\n        const start = html.match(startTagOpen);\n        if(start) {\n            const match = {\n                tagName: start[1],\n                attrs: []\n            }\n            advance(start[0].length) // 删除开始标签\n            // 如果是闭合标签，说明没有属性\n            let end ;\n            let attr\n            // 不是结束标签，能匹配到属性\n            while(!(end=html.match(startTagClose)) && (attr = html.match(attribute))) {\n                match.attrs.push({name: attr[1],value:attr[3] || attr[4]|| attr[5]})\n                advance(attr[0].length)\n            }\n            if(end) {\n                advance(end[0].length);\n                return match\n            }\n            // console.log(html)\n        }\n    }\n\n    return root;\n}\n","import { generate } from \"./generate\"\nimport { parseHTML } from \"./parse\"\n// <div id=\"my\">hello {{name}} <span>world</span> </div>\n// {\n//     tag: 'div',\n//     parent: null,\n//     type:1,\n//     attrs: [],\n//     children: [{\n//         tag:null,\n//         parent: div,父\n//     }]\n// }\n\nexport function compileToFunctions(template) {\n    // console.log(template)\n    // 将html模板 =》 render函数\n    // ast语法树\n    // 1.将html代码转化成ast语法树，可以用ast树描述语言本身\n    // 前端必须掌握的数据结构===树\n    // 优化静态节点\n    let ast = parseHTML(template)\n    // 2. 优化静态节点\n    // console.log(ast)\n    // 3. 通过ast树重新生成代码\n    let code= generate(ast)\n    console.log(code)\n    // 4. 将字符串转换成函数,限制取值范围，通过with来进行取值。调用render函数可以通过改变this，让这个函数内部渠道结果\n   let render  =  new Function(`with(this){return ${code}}`)\n\n    // console.log(render)\n    return render\n    // 虚拟dom是用对象来描述节点，ast也可以描述js余元\n\n    \n        \n\n}","import { patch } from \"./vdom/patch\"\n\nexport function lifecycleMixin(Vue) {\n    Vue.prototype._update = function(vnode) {\n        const vm= this\n        // patch(vm.$el,vnode) // 比较重要的的方法，将虚拟节点创建为真实节点\n    }\n}\n\nexport function mountComponent(vm,el) {\n    // 调用render方法去渲染el属性\n\n\n    // 先调用render方法，创建虚拟节点，在将虚拟节点渲染到页面上\n    callHook(vm,'beforeMounted')\n    vm._update(vm._render())\n    callHook(vm,'mounted')\n}\nexport function callHook(vm,hook) {\n    const handlers = vm.$options[hook]// vm.$options.create = [a1,a2,a3]\n    if(handlers) {\n        for(let i = 0; i < handlers.length; i++) {\n            handlers[i].call(vm) // 更改生命周期的this\n        }\n\n    }\n}","// 拿到数组原型的方法（或者拿到数组原来的方法）\nlet oldArrayProtoMethods = Array.prototype;\n\n// 继承原来数组的方法 arrayMethods.__proto__ = oldArrayProtoMethods,继承以后可以重写，如果没有重写，则会顺着原型链找到原来数组的方法\nexport let arrayMethods = Object.create(oldArrayProtoMethods)\nlet methods = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'reverse',\n    'sort',\n    'splice'\n]\n// 这是个高阶函数或者叫切片编程\nmethods.forEach(method => {\n    arrayMethods[method] = function(...args) { // this就是ob\n        const result = oldArrayProtoMethods[method].apply(this,arguments)\n        let inserted;\n        let ob = this.__ob__\n        switch (method) {\n            case 'push': // arr.push({a:1},{b:2})\n            case 'unshift': // push和unshift方法都是追加的,追加的内容可能是对象类型，应该再次进行劫持\n                inserted = args\n                break;\n            case 'splice': // vue.$set实现的原理就是splice，删除，添加，修改\n            inserted = args.slice(2) // arr.splice(0,1,{a:1})\n            default:\n                break;\n        }\n        if(inserted) ob.observeArray(inserted) // 给数组新增的值进行观测\n        return result\n    }\n})","import { defineProperty } from \"../utils\";\nimport { arrayMethods } from \"./array\";\n\n// 数据观测的方法\nclass Observer {\n  constructor(value) {\n    // 使用defineProperty重新定义属性，\n    // 判断一个对象是否被观测过，看它有没有__ob__这个属性\n    defineProperty(value,'__ob__',this)\n    \n    // 判断是否是数组\n    if(Array.isArray(value)) {\n      // 调用push，shift，unshift,splice,sort,reverse,pop等操作\n      // 函数劫持，或者切片编程\n      value.__proto__ = arrayMethods\n      // 观测数组中的对象类型，对象变化触发一些操作\n      this.observeArray(value)\n    }else {\n      //   使用defineProperty 重新定义属性\n    this.walk(value);\n    }\n    \n  }\n  observeArray(value) {\n    value.forEach(item => {\n      observe(item)\n    })\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    keys.forEach((key) => {\n      defineReactive(data, key, data[key]); // Vue.utils.defineReactive\n    });\n  }\n}\nfunction defineReactive(data, key, value) {// 为每一个对象添加defineProperty，getset函数，进行数据劫持\n  observe(value) // 递归进行检测，value是否是对象，只要对象层级比较深，就会不停的递归，影响性能，所以在vue3中使用proxy实现，vue3是懒递归\n  Object.defineProperty(data, key, { // 其实是一个闭包，当前作用域下data不销毁\n    get() {\n      console.log('q取值')\n      return value;\n    },\n    set(newValue) {\n      console.log('设置')\n      if (newValue == value) return; // 如果新值和老值一样则不赋值操作\n      observe(newValue) // 判断设置的新的值是不是对象，如果用户将值改为对象，则继续监控\n      value = newValue;\n    },\n  });\n}\nexport default function observe(data) {\n  if (typeof data !== \"object\" || data === null) {\n    return data;\n  }\n  if(data.__ob__) {\n    return data;\n  }\n  return new Observer(data); // 使用类的好处是方便识别当前这个属性属于哪个实例，只观测data中的数据\n  // 数组中的长度和索引如法被监控\n}\n","import observe from \"./observer/index.js\";\nimport { proxy } from \"./utils.js\";\n\n// 状态的初始化;\nexport function initSate(vm) {\n  // vue初始化的顺序就是：先初始化属性，在是方法，再是data\n  const opts = vm.$options;\n  if (opts.props) {\n    initProps(vm);\n  }\n  if (opts.methods) {\n    initMethods(vm);\n  }\n  //   核心部分\n  if (opts.data) {\n    initData(vm);\n  }\n  if (opts.computed) {\n    initComputed(vm);\n  }\n  if (opts.watch) {\n    initWatch(vm);\n  }\n}\nfunction initProps() {}\nfunction initMethods() {}\n\nfunction initData(vm) {\n  let data = vm.$options.data;\n  vm._data = data = typeof data == \"function\" ? data.call(vm) : data;\n  //   数据的劫持方案： 对象object.defineProperty\n  // 数组会单独处理\n\n  // 实现代理 -- 当我去vm上取值是，帮我将属性的取值代理大vm._data上\n  for(let key in data) {\n    proxy(vm,'_data',key)\n  }\n  observe(data);\n}\nfunction initComputed() {}\nfunction initWatch() {}\n","import { compileToFunctions } from \"./compiler/index\";\nimport { callHook, mountComponent } from \"./lifecycle\";\nimport { initSate } from \"./state\";\nimport { mergeOptions } from \"./utils\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options;\n\n    // 初始化状态（数据做初始化劫持，改变数据时应该更新视图）\n    //  vue 组件中很多状态，data,props,watch,computed\n    vm.$options = mergeOptions(vm.constructor.options,options)\n    callHook(vm,'beforeCreate')\n    initSate(vm);\n    callHook(vm,'created')\n\n    // vue核心特性：响应式数据原理\n    // Vue 是什么框架，MVVM（不完全是）怎么是？ 数据变化视图会更新，视图变化数据会被影响，\n    // 怎么不是？ mvvm不能跳过数据直接更新视图，但是vue有$ref可以直接操作dom\n    // 如果有el属性，说明要渲染模板\n    if(vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  };\n  // 渲染的时候，先找render，template,外部template（这些都要是el存在的时候）\n  Vue.prototype.$mount = function(el) {\n    // 挂载操作\n    const vm = this;\n    const options = vm.$options;\n\n    el = document.querySelector(el);\n    vm.$el = el;\n    if(!options.render) {\n      // 没有render方法，将template转化成render方法\n      let template = options.template;\n      if(!template && el) { // 没有tamplatet，有el，直接采用外部模板，即我们平时的写法\n        template = el.outerHTML; // el.outerHTML拿到el所在的html元素\n      }\n      // 编译原理，将模板编译成render函数\n      // 1. 处理模板变为ast树深度遍历， 2.标记静态节点，可以减少比对，提高性能，3. codegen-render函数生成，用了树和栈 4： new funtion+with（抛出render函数）\n\n      const render = compileToFunctions(template); // 将dom结构编译成函数\n\n      options.render = render\n    }\n    // options.render\n    // console.log(options.render) // 渲染时用的都是这个render方法\n\n    // 需要挂载这个组件\n    mountComponent(vm,el)\n\n  }\n}\n","export function renderMixin(Vue) {\n    Vue.prototype._c = function() { //创建虚拟dom元素\n        return createElement(...arguments)\n    }\n    // 1. 当结果是对象时，会对这个对象取值\n    Vue.prototype._s = function(val) { // stringify\n        return val == null ? '' : (typeof val == 'object') ? JSON.stringify(val): val\n    }\n    Vue.prototype._v = function(text) { // 创建虚拟dom文本元素\n        return createTextVnode(text)\n    }\n    Vue.prototype._render = function() {\n        const vm = this;\n        const render = vm.$options.render;\n        let vnode = render.call(vm);\n        return vnode;\n    }\n}\nfunction createElement(tag,data={},...children) {\n    return vnode(tag,data,children)\n}\nfunction createTextVnode(text) {\n    return vnode(undefined,undefined,undefined,undefined,text)\n}\n// 用于产生虚拟dom，可以创建一些自定义属性\nfunction vnode(tag,data,key,children,text) {\n    return {\n        tag,\n        data,\n        key,\n        children,\n        text,\n    }\n}","import { initGlobalApi } from \"./global-api/index\";\nimport { initMixin } from \"./init\";\nimport { lifecycleMixin } from \"./lifecycle\";\nimport { renderMixin } from \"./vdom/index\";\n// 用vue的构造函数或者创建组件\nfunction Vue(options) {\n  this._init(options); // 组件初始化的入口\n}\n//写成一个个的插件进行扩展，解耦方法\n// vue初始化方法\n// 原型方法\ninitMixin(Vue); // init方法\nlifecycleMixin(Vue); // 混合生命周期，渲染dom _update\nrenderMixin(Vue) // _render\n\n// 静态方法Vue.component,Vue.directive,Vue.extend,Vue.mixin\ninitGlobalApi(Vue)\nexport default Vue;\n"],"names":["proxy","vm","data","key","Object","defineProperty","get","set","newValue","target","value","enumerable","configurable","LIFECYCLE_HOOKS","starts","parentVal","childVal","console","log","computed","watch","mergeHook","concat","forEach","hook","mergeOptions","parent","child","options","mergeField","initGlobalApi","Vue","mixin","defaultTagRE","genProps","attrs","str","i","length","attr","name","obj","split","item","JSON","stringify","slice","gen","node","type","generate","text","test","tokens","lastIndex","match","index","exec","push","trim","join","getChildren","el","children","map","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","creatAstElement","tagName","root","currentParent","stack","start","element","end","pop","chars","replace","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","advance","substring","n","compileToFunctions","template","ast","render","Function","lifecycleMixin","prototype","_update","vnode","mountComponent","callHook","_render","handlers","$options","call","oldArrayProtoMethods","Array","arrayMethods","create","methods","method","args","result","apply","arguments","inserted","ob","__ob__","observeArray","Observer","isArray","__proto__","walk","observe","keys","defineReactive","initSate","opts","props","initData","_data","initMixin","_init","constructor","$mount","document","querySelector","$el","outerHTML","renderMixin","_c","createElement","_s","val","_v","createTextVnode","undefined"],"mappings":"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"}